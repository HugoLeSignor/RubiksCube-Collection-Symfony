{% extends 'base.html.twig' %}

{% block title %}Contact - Rubik's Cube Collection{% endblock %}

{% block body %}
<div class="container">
    {# Hero Section #}
    <div class="hero fade-in">
        <h1>ğŸ“§ Contactez-nous</h1>
        <p>Une question sur un Rubik's Cube ? Envie de partager votre collection ?</p>
        <p>N'hÃ©sitez pas Ã  nous contacter, nous vous rÃ©pondrons rapidement !</p>
    </div>

    {# Messages Flash #}
    {% for message in app.flashes('success') %}
        <div class="alert alert-success">
            âœ… {{ message }}
        </div>
    {% endfor %}

    {% for message in app.flashes('error') %}
        <div class="alert alert-danger">
            âŒ {{ message }}
        </div>
    {% endfor %}

    {# Formulaire de Contact #}
    <div class="form-container fade-in">
        <h2>ğŸ“ Formulaire de Contact</h2>
        
        <form method="POST" action="{{ path('app_contact') }}">
            {# Nom #}
            <div class="form-group">
                <label for="name">Nom complet *</label>
                <input 
                    type="text" 
                    id="name" 
                    name="name" 
                    value="{{ app.request.get('name') }}"
                    placeholder="Votre nom et prÃ©nom"
                    class="{{ errors.name is defined ? 'error' : '' }}"
                    required
                >
                {% if errors.name is defined %}
                    <div class="error-message">{{ errors.name }}</div>
                {% endif %}
            </div>

            {# Email #}
            <div class="form-group">
                <label for="email">Email *</label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    value="{{ app.request.get('email') }}"
                    placeholder="votre.email@exemple.com"
                    class="{{ errors.email is defined ? 'error' : '' }}"
                    required
                >
                {% if errors.email is defined %}
                    <div class="error-message">{{ errors.email }}</div>
                {% endif %}
            </div>

            {# Sujet #}
            <div class="form-group">
                <label for="subject">Sujet *</label>
                <select 
                    id="subject" 
                    name="subject"
                    class="{{ errors.subject is defined ? 'error' : '' }}"
                    required
                >
                    <option value="">-- Choisissez un sujet --</option>
                    <option value="question" {{ app.request.get('subject') == 'question' ? 'selected' : '' }}>Question sur un cube</option>
                    <option value="collection" {{ app.request.get('subject') == 'collection' ? 'selected' : '' }}>Ma collection</option>
                    <option value="achat" {{ app.request.get('subject') == 'achat' ? 'selected' : '' }}>Conseils d'achat</option>
                    <option value="technique" {{ app.request.get('subject') == 'technique' ? 'selected' : '' }}>Technique de rÃ©solution</option>
                    <option value="suggestion" {{ app.request.get('subject') == 'suggestion' ? 'selected' : '' }}>Suggestion</option>
                    <option value="autre" {{ app.request.get('subject') == 'autre' ? 'selected' : '' }}>Autre</option>
                </select>
                {% if errors.subject is defined %}
                    <div class="error-message">{{ errors.subject }}</div>
                {% endif %}
            </div>

            {# Message #}
            <div class="form-group">
                <label for="message">Message *</label>
                <textarea 
                    id="message" 
                    name="message" 
                    placeholder="Ã‰crivez votre message ici... (minimum 10 caractÃ¨res)"
                    class="{{ errors.message is defined ? 'error' : '' }}"
                    required
                >{{ app.request.get('message') }}</textarea>
                {% if errors.message is defined %}
                    <div class="error-message">{{ errors.message }}</div>
                {% endif %}
            </div>

            {# Bouton Submit #}
            <button type="submit" class="btn-submit">
                ğŸ“¤ Envoyer le message
            </button>
        </form>
    </div>
</div>
{% endblock %}
